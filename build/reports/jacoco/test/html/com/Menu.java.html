<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Menu.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">TicTacToe</a> &gt; <a href="index.source.html" class="el_package">com</a> &gt; <span class="el_source">Menu.java</span></div><h1>Menu.java</h1><pre class="source lang-java linenums">package com;

import game.Game;
import players.Computer;
import players.Player;

import java.util.InputMismatchException;
import java.util.Scanner;

public class Menu {

  Game game;
  Cli cli;

  Player player1;
  Player player2;
  Player currentPlayer;

<span class="nc" id="L19">  Scanner input = new Scanner(System.in);</span>

<span class="nc" id="L21">  public Menu(Game game, Cli cli) {</span>

<span class="nc" id="L23">    this.game = game;</span>
<span class="nc" id="L24">    this.cli = cli;</span>
<span class="nc" id="L25">    this.player1 = game.getPlayer1();</span>
<span class="nc" id="L26">    this.player2 = game.getPlayer2();</span>
<span class="nc" id="L27">    this.currentPlayer = game.getCurrentPlayer();</span>
<span class="nc" id="L28">  }</span>

  public void showMenu(){

<span class="nc" id="L32">    boolean validEntry = false;</span>
    int maxvalue;

    do {
<span class="nc bnc" id="L36" title="All 2 branches missed.">      if (player1 instanceof Computer) {</span>
<span class="nc" id="L37">        System.out.println(&quot;Enter \&quot;1\&quot; to watch a computer battle, \&quot;2\&quot; to Choose game mode&quot;);</span>
<span class="nc" id="L38">        maxvalue = 2;</span>
      } else {
<span class="nc" id="L40">        System.out.println(&quot;Enter \&quot;1\&quot; to Play, \&quot;2\&quot; to Choose game mode, \&quot;3\&quot; to Change names or \&quot;4\&quot; to Change symbols&quot;);</span>
<span class="nc" id="L41">        maxvalue = 4;</span>
      }
      //Validate the input
      try {

<span class="nc" id="L46">        showOptions(cli.askForIntegerBetweenMinAndMax(1,maxvalue));</span>
<span class="nc" id="L47">        validEntry = true;</span>

<span class="nc" id="L49">      } catch (IllegalArgumentException ex) {//catch the exceptions</span>
<span class="nc" id="L50">        System.out.println(ex.getMessage());</span>
<span class="nc" id="L51">        validEntry = false; //to loop</span>

<span class="nc" id="L53">      } catch (InputMismatchException ex) {</span>
<span class="nc" id="L54">        System.out.println(ex.getMessage());</span>
<span class="nc" id="L55">        input.next();//to lose the value as it is not valid</span>
<span class="nc" id="L56">        validEntry = false;</span>
<span class="nc" id="L57">      }</span>
<span class="nc bnc" id="L58" title="All 2 branches missed.">    } while (!validEntry);//keeps looping until validEntry is valid(true)</span>

<span class="nc" id="L60">  }</span>


  public void showOptions(int choiceEntry){

<span class="nc" id="L65">    boolean validInput = false;</span>

<span class="nc bnc" id="L67" title="All 5 branches missed.">      switch (choiceEntry) {</span>

        case 1:
          do{
<span class="nc" id="L71">          validInput = true;</span>

<span class="nc" id="L73">          this.game.initGame();</span>

<span class="nc bnc" id="L75" title="All 2 branches missed.">          if(this.game.playAgain(cli.askForIntegerBetweenMinAndMax(1,2))){</span>
<span class="nc" id="L76">            showOptions(1);</span>
          };
<span class="nc bnc" id="L78" title="All 2 branches missed.">          } while (!validInput) ;</span>
<span class="nc" id="L79">          break;</span>


        case 2:
          do{
<span class="nc" id="L84">          System.out.println(&quot;Enter \&quot;1\&quot; to play against another Player or \&quot;2\&quot; to play against the Computer or \&quot;3\&quot; to watch Computer playing against Computer&quot;);</span>
          try {

<span class="nc" id="L87">            int type = cli.askForIntegerBetweenMinAndMax(1,3);</span>

<span class="nc" id="L89">            this.game.createPlayers(type);</span>

<span class="nc bnc" id="L91" title="All 4 branches missed.">            if (type == 1 || type == 2) {</span>
<span class="nc" id="L92">              System.out.println(&quot;You are playing against &quot; + player2.getName());//notifies the player</span>
            }

<span class="nc" id="L95">            validInput = true;</span>

<span class="nc" id="L97">            showMenu();</span>

<span class="nc" id="L99">          } catch (IllegalArgumentException ex) {</span>
<span class="nc" id="L100">            System.out.println(ex.getMessage());</span>
<span class="nc" id="L101">            validInput = false;</span>

<span class="nc" id="L103">          } catch (InputMismatchException ex) {</span>
<span class="nc" id="L104">            System.out.println(ex.getMessage());</span>
<span class="nc" id="L105">            validInput = false;</span>
<span class="nc" id="L106">            input.next();</span>
<span class="nc" id="L107">          }</span>
<span class="nc bnc" id="L108" title="All 2 branches missed.">          } while (!validInput) ;</span>
<span class="nc" id="L109">          break;</span>


        case 3:
          do{
<span class="nc bnc" id="L114" title="All 4 branches missed.">          if (player2 instanceof Computer &amp;&amp; !(player1 instanceof Computer)) {//when playing against the Computer, won't show to change name for Computer.</span>
            //when playing computer against computer, wont show to change name for Computers.
<span class="nc" id="L116">            validInput = player1.changeName(cli.askForString(), player2);</span>

<span class="nc bnc" id="L118" title="All 4 branches missed.">          } else if (player1 instanceof Computer &amp;&amp; player2 instanceof Computer) {</span>
<span class="nc" id="L119">            System.out.println(&quot;You can't change the name of the Computer&quot;);//the code allows you to change it as it has a method for it, but I'm not implementing it in my game</span>
<span class="nc" id="L120">            validInput = true;</span>

          } else {//when playing against player, you can change both names
<span class="nc" id="L123">            System.out.println(&quot;Enter \&quot;1\&quot; to change &quot; + player1.getName() + &quot;'s name or \&quot;2\&quot; to change &quot; + player2.getName() + &quot;'s name&quot;);</span>

            try {
<span class="nc" id="L126">              int num = cli.askForIntegerBetweenMinAndMax(1,2);</span>

<span class="nc bnc" id="L128" title="All 2 branches missed.">              if (num == 1) {</span>
<span class="nc" id="L129">                validInput = player1.changeName(cli.askForString(), player2);//Returns true if has been successfully executed</span>
              } else {
<span class="nc" id="L131">                validInput = player2.changeName(cli.askForString(), player1);</span>
              }

<span class="nc" id="L134">            } catch (IllegalArgumentException ex) {</span>
<span class="nc" id="L135">              System.out.println(ex.getMessage());</span>
<span class="nc" id="L136">              validInput = false;</span>

<span class="nc" id="L138">            } catch (InputMismatchException ex) {</span>
<span class="nc" id="L139">              System.out.println(ex.getMessage());</span>
<span class="nc" id="L140">              validInput = false;</span>
<span class="nc" id="L141">              input.next();</span>
<span class="nc" id="L142">            }</span>

          }
<span class="nc bnc" id="L145" title="All 2 branches missed.">          } while (!validInput) ;</span>
<span class="nc" id="L146">          break;</span>

        case 4:
          do {
<span class="nc bnc" id="L150" title="All 2 branches missed.">            if (player2 instanceof Computer) {</span>
<span class="nc" id="L151">              System.out.println(&quot;Enter new symbol for &quot; + player1.getName());</span>
<span class="nc" id="L152">              validInput = player1.changeSymbol(cli.askForString(), player2);</span>

<span class="nc bnc" id="L154" title="All 4 branches missed.">            } else if (player1 instanceof Computer &amp;&amp; player2 instanceof Computer) {</span>
<span class="nc" id="L155">              System.out.println(&quot;You can't change the symbol of the Computer&quot;);//the code allows you to change it as it has a method for it, but I'm not implementing it in my game</span>
<span class="nc" id="L156">              validInput = true;</span>

            } else {
<span class="nc" id="L159">              System.out.println(&quot;Enter \&quot;1\&quot; to change &quot; + player1.getName() + &quot;'s symbol or \&quot;2\&quot; to change &quot; + player2.getName() + &quot;'s symbol&quot;);</span>

              try {
<span class="nc" id="L162">                int num = cli.askForIntegerBetweenMinAndMax(1, 2);</span>

<span class="nc bnc" id="L164" title="All 2 branches missed.">                if (num == 1) {</span>
<span class="nc" id="L165">                  validInput = player1.changeSymbol(cli.askForString(), player2);</span>
                } else {
<span class="nc" id="L167">                  validInput = player2.changeSymbol(cli.askForString(), player1);</span>
                }

<span class="nc" id="L170">              } catch (IllegalArgumentException ex) {</span>
<span class="nc" id="L171">                System.out.println(ex.getMessage());</span>
<span class="nc" id="L172">                validInput = false;</span>

<span class="nc" id="L174">              } catch (InputMismatchException ex) {</span>
<span class="nc" id="L175">                System.out.println(ex.getMessage());</span>
<span class="nc" id="L176">                validInput = false;</span>
<span class="nc" id="L177">                input.next();</span>
<span class="nc" id="L178">              }</span>
            }
<span class="nc bnc" id="L180" title="All 2 branches missed.">          } while (!validInput) ;</span>
          break;

      }
<span class="nc" id="L184">  }</span>



}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>