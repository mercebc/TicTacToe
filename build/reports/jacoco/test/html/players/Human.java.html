<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Human.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">TicTacToe</a> &gt; <a href="index.source.html" class="el_package">players</a> &gt; <span class="el_source">Human.java</span></div><h1>Human.java</h1><pre class="source lang-java linenums">package players;

import game.Board;

import java.util.InputMismatchException;
import java.util.Scanner;


public class Human extends Player {

  public Human(String name, String symbol) {
<span class="fc" id="L12">    super(name, symbol);//calls parent class constructor</span>
<span class="fc" id="L13">  }</span>

  //overwrite the methods in player

  public int getSpot(Board board, Player player1, Player player2, Player currentPlayer) {

<span class="nc" id="L19">    int spot = 0;</span>
<span class="nc" id="L20">    boolean validInput = false;</span>

    do {

<span class="nc" id="L24">      String help = &quot;&quot;;</span>

<span class="nc" id="L26">      System.out.print(currentPlayer.getName() + &quot;, please enter a number between 1 and 9 to allocate your symbol. Enter \&quot;h\&quot; for help.\n&quot;);</span>

      try {

<span class="nc" id="L30">        spot = cli.askForIntegerOrHelpBetweenMinAndMax(1, 9) - 1;</span>

<span class="nc bnc" id="L32" title="All 2 branches missed.">        if(spot &gt; 0) {</span>
<span class="nc bnc" id="L33" title="All 2 branches missed.">          if (validateSpot(board, spot, player1, player2)) {</span>
<span class="nc" id="L34">            validInput = true;//input value is true as its an int 1-9</span>
          } else {
<span class="nc" id="L36">            validInput = false;</span>
          }
        }
      }
<span class="nc" id="L40">      catch (InputMismatchException ex) {</span>
<span class="nc" id="L41">        System.out.println(ex.getMessage());</span>
<span class="nc" id="L42">        validInput = false;</span>
      }

<span class="nc" id="L45">      catch (IllegalArgumentException ex) {</span>
<span class="nc" id="L46">        System.out.println(ex.getMessage());</span>
<span class="nc" id="L47">        validInput = false;</span>
<span class="nc" id="L48">      }</span>

<span class="nc bnc" id="L50" title="All 2 branches missed.">    } while(!validInput);</span>

<span class="nc" id="L52">  return spot;</span>

  }

  public boolean changeName(String InputStream, Player opponent) {
<span class="nc" id="L57">    System.out.println(&quot;Enter new name for &quot; + this.getName());</span>

<span class="nc" id="L59">    String name = InputStream;</span>

<span class="nc bnc" id="L61" title="All 2 branches missed.">    if (checkOpponentName(opponent, name)) {//if new name is not the same as the other player's name</span>
<span class="nc" id="L62">      this.setName(name);//change name</span>
<span class="nc" id="L63">      System.out.println(&quot;Name changed to &quot; + this.getName());</span>
<span class="nc" id="L64">      return true;</span>
    }else{
<span class="nc" id="L66">      System.out.println(&quot;The name you are trying to change is the same one as your opponent's name: &quot; + opponent.getName());</span>
<span class="nc" id="L67">      return false;</span>
    }
  }

  private boolean checkOpponentName(Player opponent, String name) {
<span class="nc bnc" id="L72" title="All 2 branches missed.">    return (!(opponent.getName().equals(name)));</span>
  }

  public boolean changeSymbol(String InputStream, Player opponent) {

<span class="fc" id="L77">    String symbol = InputStream;</span>

<span class="fc bfc" id="L79" title="All 2 branches covered.">    if(symbol.length() &gt; 1) {//if input is more than one character, trim and inform user</span>
<span class="fc" id="L80">      symbol = trimSymbol(symbol);</span>
    }

<span class="fc bfc" id="L83" title="All 2 branches covered.">    if(checkOpponentSymbol(opponent, symbol)){</span>
<span class="fc" id="L84">      this.setSymbol(symbol);//change symbol</span>
<span class="fc" id="L85">      System.out.println(&quot;Symbol changed to &quot; + this.getSymbol());</span>
<span class="fc" id="L86">      return true;</span>
    }else{
<span class="fc" id="L88">      System.out.println(&quot;The symbol you are trying to change is the same one as your opponent's symbol: &quot; + opponent.getName());</span>
<span class="fc" id="L89">      return false;</span>
    }
  }

  private boolean checkOpponentSymbol(Player opponent, String symbol) {
<span class="fc bfc" id="L94" title="All 2 branches covered.">    return (!(opponent.getSymbol().equals(symbol)));</span>
  }


  private String trimSymbol(String symbol) {
<span class="fc" id="L99">    char s = symbol.charAt(0);//get only the first character</span>
<span class="fc" id="L100">    System.out.println(&quot;Note: We have trimmed your Symbol as it can only contain one character&quot;);</span>
<span class="fc" id="L101">    return Character.toString(s);</span>
  }

  private boolean validateSpot(Board board, int spot, Player player1, Player player2){
<span class="nc bnc" id="L105" title="All 4 branches missed.">    if (!board.getCell(spot).equals(player1.getSymbol()) &amp;&amp; !board.getCell(spot).equals(player2.getSymbol())) {//check the spot is already taken</span>
<span class="nc" id="L106">      return true;</span>
    } else {
<span class="nc" id="L108">      System.out.println(&quot;Enter a number that is not already used&quot;);</span>
<span class="nc" id="L109">      return false;</span>
    }
  }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>